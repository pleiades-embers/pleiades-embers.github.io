(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{209:function(s,a,e){"use strict";e.r(a);var t=e(0),i=Object(t.a)({},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),e("p",[s._v("MongoDB 是一个基于分布式文件存储的数据库。由C++语言编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。\n它是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。它支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是它支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。")]),s._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("p",[s._v("在linux ubuntu的环境下，Ctrl+ALT+T 打开终端，输入")]),s._v(" "),e("div",{staticClass:"language-linux line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo apt-get install mongodb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"使用mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用mongodb","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用MongoDB")]),s._v(" "),e("h3",{attrs:{id:"_1-进入shell命令模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-进入shell命令模式","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.进入shell命令模式")]),s._v(" "),e("p",[s._v("在终端输入mongo")]),s._v(" "),e("h2",{attrs:{id:"数据库切换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库切换","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据库切换")]),s._v(" "),e("ul",[e("li",[s._v("查看当前数据库名称")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("查看所有数据库名称")]),s._v(" "),e("li",[s._v("列出所有在物理上存在的数据库")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show dbs\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("切换数据库")]),s._v(" "),e("li",[s._v("如果数据库不存在，则指向数据库，但不创建，直到插入数据或创建集合时数据库才被创建")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("use 数据库名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("默认的数据库为test，如果你没有创建新的数据库，集合将存放在test数据库中")])]),s._v(" "),e("h2",{attrs:{id:"数据库删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库删除","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据库删除")]),s._v(" "),e("ul",[e("li",[s._v("删除当前指向的数据库")]),s._v(" "),e("li",[s._v("如果数据库不存在，则什么也不做")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.dropDatabase()\ndb.集合名称.drop()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"集合创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集合创建","aria-hidden":"true"}},[s._v("#")]),s._v(" 集合创建")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.createCollection(name, options)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("name是要创建的集合的名称")]),s._v(" "),e("li",[s._v("options是一个文档，用于指定集合的配置")]),s._v(" "),e("li",[s._v("选项参数是可选的，所以只需要到指定的集合名称。以下是可以使用的选项列表：")]),s._v(" "),e("li",[s._v("例1：不限制集合大小")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('db.createCollection("stu")\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例2：限制集合大小，后面学会插入语句后可以查看效果")]),s._v(" "),e("li",[s._v("参数capped：默认值为false表示不设置上限，值为true表示设置上限")]),s._v(" "),e("li",[s._v("参数size：当capped值为true时，需要指定此参数，表示上限大小，当文档达到上限时，会将之前的数据覆盖，单位为字节")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('db.createCollection("sub", { capped : true, size : 10 } )\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据类型","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据类型")]),s._v(" "),e("ul",[e("li",[s._v("下表为MongoDB中常用的几种数据类型：")]),s._v(" "),e("li",[s._v("Object ID：文档ID")]),s._v(" "),e("li",[s._v("String：字符串，最常用，必须是有效的UTF-8")]),s._v(" "),e("li",[s._v("Boolean：存储一个布尔值，true或false")]),s._v(" "),e("li",[s._v("Integer：整数可以是32位或64位，这取决于服务器")]),s._v(" "),e("li",[s._v("Double：存储浮点值")]),s._v(" "),e("li",[s._v("Arrays：数组或列表，多个值存储到一个键")]),s._v(" "),e("li",[s._v("Object：用于嵌入式的文档，即一个值为一个文档")]),s._v(" "),e("li",[s._v("Null：存储Null值")]),s._v(" "),e("li",[s._v("Timestamp：时间戳")]),s._v(" "),e("li",[s._v("Date：存储当前日期或时间的UNIX时间格式")])]),s._v(" "),e("h3",{attrs:{id:"object-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#object-id","aria-hidden":"true"}},[s._v("#")]),s._v(" object id")]),s._v(" "),e("ul",[e("li",[s._v("每个文档都有一个属性，为_id，保证每个文档的唯一性")]),s._v(" "),e("li",[s._v("可以自己去设置_id插入文档")]),s._v(" "),e("li",[s._v("如果没有提供，那么MongoDB为每个文档提供了一个独特的_id，类型为objectID")]),s._v(" "),e("li",[s._v("objectID是一个12字节的十六进制数\n"),e("ul",[e("li",[s._v("前4个字节为当前时间戳")]),s._v(" "),e("li",[s._v("接下来3个字节的机器ID")]),s._v(" "),e("li",[s._v("接下来的2个字节中MongoDB的服务进程id")]),s._v(" "),e("li",[s._v("最后3个字节是简单的增量值")])])])]),s._v(" "),e("h2",{attrs:{id:"插入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插入","aria-hidden":"true"}},[s._v("#")]),s._v(" 插入")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.insert(document)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("插入文档时，如果不指定_id参数，MongoDB会为文档分配一个唯一的ObjectId")]),s._v(" "),e("li",[s._v("例1")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.insert({name:'gj',gender:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例2")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("s1={_id:'20160101',name:'hr'}\ns1.gender=0\ndb.stu.insert(s1)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"简单查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 简单查询")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新","aria-hidden":"true"}},[s._v("#")]),s._v(" 更新")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.update(\n   <query>,\n   <update>,\n   {multi: <boolean>}\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ul",[e("li",[s._v("参数query:查询条件，类似sql语句update中where部分")]),s._v(" "),e("li",[s._v("参数update:更新操作符，类似sql语句update中set部分")]),s._v(" "),e("li",[s._v("参数multi:可选，默认是false，表示只更新找到的第一条记录，值为true表示把满足条件的文档全部更新")]),s._v(" "),e("li",[s._v("例3：全文档更新")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.update({name:'hr'},{name:'mnc'})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例4：指定属性更新，通过操作符$set")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.insert({name:'hr',gender:0})\ndb.stu.update({name:'hr'},{$set:{name:'hys'}})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("例5：修改多条匹配到的数据")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.update({},{$set:{gender:0}},{multi:true})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"保存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#保存","aria-hidden":"true"}},[s._v("#")]),s._v(" 保存")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.save(document)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("如果文档的_id已经存在则修改，如果文档的_id不存在则添加")]),s._v(" "),e("li",[s._v("例6")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.save({_id:'20160102','name':'yk',gender:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例7")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.save({_id:'20160102','name':'wyk'})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),e("ul",[e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.remove(\n   <query>,\n   {\n     justOne: <boolean>\n   }\n)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("参数query:可选，删除的文档的条件")]),s._v(" "),e("li",[s._v("参数justOne:可选，如果设为true或1，则只删除一条，默认false，表示删除多条")]),s._v(" "),e("li",[s._v("例8：只删除匹配到的第一条")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.remove({gender:0},{justOne:true})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例9：全部删除")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.remove({})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"关于size的示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关于size的示例","aria-hidden":"true"}},[s._v("#")]),s._v(" 关于size的示例")]),s._v(" "),e("ul",[e("li",[s._v("例10")]),s._v(" "),e("li",[s._v("创建集合")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.createCollection('sub',{capped:true,size:10})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("插入第一条数据库查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.sub.insert({title:'linux',count:10})\ndb.sub.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("插入第二条数据库查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.sub.insert({title:'web',count:15})\ndb.sub.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("插入第三条数据库查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.sub.insert({title:'sql',count:8})\ndb.sub.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("插入第四条数据库查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.sub.insert({title:'django',count:12})\ndb.sub.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("插入第五条数据库查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.sub.insert({title:'python',count:14})\ndb.sub.find()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"数据查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据查询")]),s._v(" "),e("h4",{attrs:{id:"基本查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 基本查询")]),s._v(" "),e("ul",[e("li",[s._v("方法find()：查询")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find({条件文档})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("方法findOne()：查询，只返回第一个")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.findOne({条件文档})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("方法pretty()：将结果格式化")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find({条件文档}).pretty()\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"比较运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#比较运算符","aria-hidden":"true"}},[s._v("#")]),s._v(" 比较运算符")]),s._v(" "),e("ul",[e("li",[s._v("等于，默认是等于判断，没有运算符")]),s._v(" "),e("li",[s._v("小于$lt")]),s._v(" "),e("li",[s._v("小于或等于$lte")]),s._v(" "),e("li",[s._v("大于$gt")]),s._v(" "),e("li",[s._v("大于或等于$gte")]),s._v(" "),e("li",[s._v("不等于$ne")]),s._v(" "),e("li",[s._v("例1：查询名称等于'gj'的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({name:'gj'})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例2：查询年龄大于或等于18的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({age:{$gte:18}})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"逻辑运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符","aria-hidden":"true"}},[s._v("#")]),s._v(" 逻辑运算符")]),s._v(" "),e("ul",[e("li",[s._v("查询时可以有多个条件，多个条件之间需要通过逻辑运算符连接")]),s._v(" "),e("li",[s._v("逻辑与：默认是逻辑与的关系")]),s._v(" "),e("li",[s._v("例3：查询年龄大于或等于18，并且性别为1的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({age:{$gte:18},gender:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("逻辑或：使用$or")]),s._v(" "),e("li",[s._v("例4：查询年龄大于18，或性别为0的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({$or:[{age:{$gt:18}},{gender:1}]})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("and和or一起使用")]),s._v(" "),e("li",[s._v("例5：查询年龄大于18或性别为0的学生，并且学生的姓名为gj")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({$or:[{age:{$gte:18}},{gender:1}],name:'gj'})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"范围运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#范围运算符","aria-hidden":"true"}},[s._v("#")]),s._v(" 范围运算符")]),s._v(" "),e("ul",[e("li",[s._v('使用"$in"，"$nin" 判断是否在某个范围内')]),s._v(" "),e("li",[s._v("例6：查询年龄为18、28的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({age:{$in:[18,28]}})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"支持正则表达式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#支持正则表达式","aria-hidden":"true"}},[s._v("#")]),s._v(" 支持正则表达式")]),s._v(" "),e("ul",[e("li",[s._v("使用//或$regex编写正则表达式")]),s._v(" "),e("li",[s._v("例7：查询姓黄的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({name:/^黄/})\ndb.stu.find({name:{$regex:'^黄'}}})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"自定义查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义查询","aria-hidden":"true"}},[s._v("#")]),s._v(" 自定义查询")]),s._v(" "),e("ul",[e("li",[s._v("使用$where后面写一个函数，返回满足条件的数据")]),s._v(" "),e("li",[s._v("例7：查询年龄大于30的学生")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({$where:function(){return this.age>20}})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limit","aria-hidden":"true"}},[s._v("#")]),s._v(" Limit")]),s._v(" "),e("ul",[e("li",[s._v("方法limit()：用于读取指定数量的文档")]),s._v(" "),e("li",[s._v("语法：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find().limit(NUMBER)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("参数NUMBER表示要获取文档的条数")]),s._v(" "),e("li",[s._v("如果没有指定参数则显示集合中的所有文档")]),s._v(" "),e("li",[s._v("例1：查询2条学生信息")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find().limit(2)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"skip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#skip","aria-hidden":"true"}},[s._v("#")]),s._v(" skip")]),s._v(" "),e("ul",[e("li",[s._v("方法skip()：用于跳过指定数量的文档")]),s._v(" "),e("li",[s._v("语法：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find().skip(NUMBER)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("参数NUMBER表示跳过的记录条数，默认值为0")]),s._v(" "),e("li",[s._v("例2：查询从第3条开始的学生信息")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find().skip(2)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"一起使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一起使用","aria-hidden":"true"}},[s._v("#")]),s._v(" 一起使用")]),s._v(" "),e("ul",[e("li",[s._v("方法limit()和skip()可以一起使用，不分先后顺序")]),s._v(" "),e("li",[s._v("创建数据集")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("for(i=0;i<15;i++){db.t1.insert({_id:i})}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("查询第5至8条数据")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find().limit(4).skip(5)\n或\ndb.stu.find().skip(5).limit(4)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"投影"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#投影","aria-hidden":"true"}},[s._v("#")]),s._v(" 投影")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("在查询到的返回结果中，只选择必要的字段，而不是选择一个文档的整个字段")])]),s._v(" "),e("li",[e("p",[s._v("如：一个文档有5个字段，需要显示只有3个，投影其中3个字段即可")])]),s._v(" "),e("li",[e("p",[s._v("语法：示需要明确设置为0")])]),s._v(" "),e("li",[e("p",[s._v("例1")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({},{name:1,gender:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("例2")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find({},{_id:0,name:1,gender:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#排序","aria-hidden":"true"}},[s._v("#")]),s._v(" 排序")]),s._v(" "),e("ul",[e("li",[s._v("方法sort()，用于对结果集进行排序")]),s._v(" "),e("li",[s._v("语法")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.集合名称.find().sort({字段:1,...})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("参数1为升序排列")]),s._v(" "),e("li",[s._v("参数-1为降序排列")]),s._v(" "),e("li",[s._v("例1：根据性别降序，再根据年龄升序")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("db.stu.find().sort({gender:-1,age:1})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"高级操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高级操作","aria-hidden":"true"}},[s._v("#")]),s._v(" 高级操作")])])},[],!1,null,null,null);a.default=i.exports}}]);