<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | embers</title>
    <meta name="description" content="余烬">
    <link rel="icon" href="/logo.jpg">
  <link rel="stylesheet" href="/css/style.css">
    
    <link rel="preload" href="/assets/css/0.styles.c107cf09.css" as="style"><link rel="preload" href="/assets/js/app.eea4310e.js" as="script"><link rel="preload" href="/assets/js/2.a0374f9c.js" as="script"><link rel="preload" href="/assets/js/33.679f2783.js" as="script"><link rel="prefetch" href="/assets/js/10.83cd89fe.js"><link rel="prefetch" href="/assets/js/11.a46a3f49.js"><link rel="prefetch" href="/assets/js/12.4c0fcbeb.js"><link rel="prefetch" href="/assets/js/13.f42fb1d6.js"><link rel="prefetch" href="/assets/js/14.72efad17.js"><link rel="prefetch" href="/assets/js/15.9c1573bc.js"><link rel="prefetch" href="/assets/js/16.0391e1c1.js"><link rel="prefetch" href="/assets/js/17.850c6480.js"><link rel="prefetch" href="/assets/js/18.f2212ecf.js"><link rel="prefetch" href="/assets/js/19.1b98736c.js"><link rel="prefetch" href="/assets/js/20.d03cb66f.js"><link rel="prefetch" href="/assets/js/21.c8a13606.js"><link rel="prefetch" href="/assets/js/22.9ab5a9c1.js"><link rel="prefetch" href="/assets/js/23.1424a072.js"><link rel="prefetch" href="/assets/js/24.663e0ff4.js"><link rel="prefetch" href="/assets/js/25.69692971.js"><link rel="prefetch" href="/assets/js/26.575733fa.js"><link rel="prefetch" href="/assets/js/27.594d7ef0.js"><link rel="prefetch" href="/assets/js/28.1252255f.js"><link rel="prefetch" href="/assets/js/29.9ffba9f6.js"><link rel="prefetch" href="/assets/js/3.1d2ac0e8.js"><link rel="prefetch" href="/assets/js/30.e6372671.js"><link rel="prefetch" href="/assets/js/31.61bee863.js"><link rel="prefetch" href="/assets/js/32.8f73aa24.js"><link rel="prefetch" href="/assets/js/34.97687ebb.js"><link rel="prefetch" href="/assets/js/35.1a434140.js"><link rel="prefetch" href="/assets/js/36.7ab8cbcd.js"><link rel="prefetch" href="/assets/js/37.246685f5.js"><link rel="prefetch" href="/assets/js/38.4c3abd23.js"><link rel="prefetch" href="/assets/js/39.b77e3c76.js"><link rel="prefetch" href="/assets/js/4.620dbc24.js"><link rel="prefetch" href="/assets/js/40.3aacfb2f.js"><link rel="prefetch" href="/assets/js/5.e40c23aa.js"><link rel="prefetch" href="/assets/js/6.f99bf8c4.js"><link rel="prefetch" href="/assets/js/7.5bac38f0.js"><link rel="prefetch" href="/assets/js/8.b636f602.js"><link rel="prefetch" href="/assets/js/9.12130c71.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c107cf09.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">embers</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/huibian/" class="nav-link">汇编</a></li><li class="dropdown-subitem"><a href="/note/linux/" class="nav-link">linux</a></li><li class="dropdown-subitem"><a href="/note/数据库/" class="nav-link">数据库</a></li></ul></li><li class="dropdown-item"><h4>高级语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/c++/" class="nav-link">c/c++</a></li><li class="dropdown-subitem"><a href="/note/python/" class="nav-link">python</a></li><li class="dropdown-subitem"><a href="/note/php/" class="nav-link">php</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>博客指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/前端/" class="nav-link">前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/huibian/" class="nav-link">汇编</a></li><li class="dropdown-subitem"><a href="/note/linux/" class="nav-link">linux</a></li><li class="dropdown-subitem"><a href="/note/数据库/" class="nav-link">数据库</a></li></ul></li><li class="dropdown-item"><h4>高级语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/c++/" class="nav-link">c/c++</a></li><li class="dropdown-subitem"><a href="/note/python/" class="nav-link">python</a></li><li class="dropdown-subitem"><a href="/note/php/" class="nav-link">php</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>博客指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ubuntu下安装mongodb</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/数据库/ubuntu下安装mongodb.html" class="active sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#使用mongodb" class="sidebar-link">使用MongoDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#_1-进入shell命令模式" class="sidebar-link">1.进入shell命令模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#数据库切换" class="sidebar-link">数据库切换</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#数据库删除" class="sidebar-link">数据库删除</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#集合创建" class="sidebar-link">集合创建</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#object-id" class="sidebar-link">object id</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#插入" class="sidebar-link">插入</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#简单查询" class="sidebar-link">简单查询</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#更新" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#保存" class="sidebar-link">保存</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#删除" class="sidebar-link">删除</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#关于size的示例" class="sidebar-link">关于size的示例</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#数据查询" class="sidebar-link">数据查询</a></li><li class="sidebar-sub-header"><a href="/note/数据库/ubuntu下安装mongodb.html#高级操作" class="sidebar-link">高级操作</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2> <p>MongoDB 是一个基于分布式文件存储的数据库。由C++语言编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。
它是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。它支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是它支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。</p> <h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <p>在linux ubuntu的环境下，Ctrl+ALT+T 打开终端，输入</p> <div class="language-linux line-numbers-mode"><pre class="language-text"><code>sudo apt-get install mongodb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="使用mongodb"><a href="#使用mongodb" aria-hidden="true" class="header-anchor">#</a> 使用MongoDB</h2> <h3 id="_1-进入shell命令模式"><a href="#_1-进入shell命令模式" aria-hidden="true" class="header-anchor">#</a> 1.进入shell命令模式</h3> <p>在终端输入mongo</p> <h2 id="数据库切换"><a href="#数据库切换" aria-hidden="true" class="header-anchor">#</a> 数据库切换</h2> <ul><li>查看当前数据库名称</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>查看所有数据库名称</li> <li>列出所有在物理上存在的数据库</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>show dbs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>切换数据库</li> <li>如果数据库不存在，则指向数据库，但不创建，直到插入数据或创建集合时数据库才被创建</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>use 数据库名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>默认的数据库为test，如果你没有创建新的数据库，集合将存放在test数据库中</li></ul> <h2 id="数据库删除"><a href="#数据库删除" aria-hidden="true" class="header-anchor">#</a> 数据库删除</h2> <ul><li>删除当前指向的数据库</li> <li>如果数据库不存在，则什么也不做</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.dropDatabase()
db.集合名称.drop()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="集合创建"><a href="#集合创建" aria-hidden="true" class="header-anchor">#</a> 集合创建</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(name, options)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>name是要创建的集合的名称</li> <li>options是一个文档，用于指定集合的配置</li> <li>选项参数是可选的，所以只需要到指定的集合名称。以下是可以使用的选项列表：</li> <li>例1：不限制集合大小</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(&quot;stu&quot;)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例2：限制集合大小，后面学会插入语句后可以查看效果</li> <li>参数capped：默认值为false表示不设置上限，值为true表示设置上限</li> <li>参数size：当capped值为true时，需要指定此参数，表示上限大小，当文档达到上限时，会将之前的数据覆盖，单位为字节</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(&quot;sub&quot;, { capped : true, size : 10 } )
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <ul><li>下表为MongoDB中常用的几种数据类型：</li> <li>Object ID：文档ID</li> <li>String：字符串，最常用，必须是有效的UTF-8</li> <li>Boolean：存储一个布尔值，true或false</li> <li>Integer：整数可以是32位或64位，这取决于服务器</li> <li>Double：存储浮点值</li> <li>Arrays：数组或列表，多个值存储到一个键</li> <li>Object：用于嵌入式的文档，即一个值为一个文档</li> <li>Null：存储Null值</li> <li>Timestamp：时间戳</li> <li>Date：存储当前日期或时间的UNIX时间格式</li></ul> <h3 id="object-id"><a href="#object-id" aria-hidden="true" class="header-anchor">#</a> object id</h3> <ul><li>每个文档都有一个属性，为_id，保证每个文档的唯一性</li> <li>可以自己去设置_id插入文档</li> <li>如果没有提供，那么MongoDB为每个文档提供了一个独特的_id，类型为objectID</li> <li>objectID是一个12字节的十六进制数
<ul><li>前4个字节为当前时间戳</li> <li>接下来3个字节的机器ID</li> <li>接下来的2个字节中MongoDB的服务进程id</li> <li>最后3个字节是简单的增量值</li></ul></li></ul> <h2 id="插入"><a href="#插入" aria-hidden="true" class="header-anchor">#</a> 插入</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.insert(document)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>插入文档时，如果不指定_id参数，MongoDB会为文档分配一个唯一的ObjectId</li> <li>例1</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.insert({name:'gj',gender:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例2</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>s1={_id:'20160101',name:'hr'}
s1.gender=0
db.stu.insert(s1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="简单查询"><a href="#简单查询" aria-hidden="true" class="header-anchor">#</a> 简单查询</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="更新"><a href="#更新" aria-hidden="true" class="header-anchor">#</a> 更新</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.update(
   &lt;query&gt;,
   &lt;update&gt;,
   {multi: &lt;boolean&gt;}
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>参数query:查询条件，类似sql语句update中where部分</li> <li>参数update:更新操作符，类似sql语句update中set部分</li> <li>参数multi:可选，默认是false，表示只更新找到的第一条记录，值为true表示把满足条件的文档全部更新</li> <li>例3：全文档更新</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.update({name:'hr'},{name:'mnc'})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例4：指定属性更新，通过操作符$set</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.insert({name:'hr',gender:0})
db.stu.update({name:'hr'},{$set:{name:'hys'}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>例5：修改多条匹配到的数据</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.update({},{$set:{gender:0}},{multi:true})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="保存"><a href="#保存" aria-hidden="true" class="header-anchor">#</a> 保存</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.save(document)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>如果文档的_id已经存在则修改，如果文档的_id不存在则添加</li> <li>例6</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.save({_id:'20160102','name':'yk',gender:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例7</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.save({_id:'20160102','name':'wyk'})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="删除"><a href="#删除" aria-hidden="true" class="header-anchor">#</a> 删除</h2> <ul><li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.remove(
   &lt;query&gt;,
   {
     justOne: &lt;boolean&gt;
   }
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>参数query:可选，删除的文档的条件</li> <li>参数justOne:可选，如果设为true或1，则只删除一条，默认false，表示删除多条</li> <li>例8：只删除匹配到的第一条</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.remove({gender:0},{justOne:true})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例9：全部删除</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.remove({})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="关于size的示例"><a href="#关于size的示例" aria-hidden="true" class="header-anchor">#</a> 关于size的示例</h2> <ul><li>例10</li> <li>创建集合</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection('sub',{capped:true,size:10})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>插入第一条数据库查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.sub.insert({title:'linux',count:10})
db.sub.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>插入第二条数据库查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.sub.insert({title:'web',count:15})
db.sub.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>插入第三条数据库查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.sub.insert({title:'sql',count:8})
db.sub.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>插入第四条数据库查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.sub.insert({title:'django',count:12})
db.sub.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>插入第五条数据库查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.sub.insert({title:'python',count:14})
db.sub.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="数据查询"><a href="#数据查询" aria-hidden="true" class="header-anchor">#</a> 数据查询</h2> <h4 id="基本查询"><a href="#基本查询" aria-hidden="true" class="header-anchor">#</a> 基本查询</h4> <ul><li>方法find()：查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find({条件文档})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>方法findOne()：查询，只返回第一个</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.findOne({条件文档})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>方法pretty()：将结果格式化</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find({条件文档}).pretty()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="比较运算符"><a href="#比较运算符" aria-hidden="true" class="header-anchor">#</a> 比较运算符</h4> <ul><li>等于，默认是等于判断，没有运算符</li> <li>小于$lt</li> <li>小于或等于$lte</li> <li>大于$gt</li> <li>大于或等于$gte</li> <li>不等于$ne</li> <li>例1：查询名称等于'gj'的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({name:'gj'})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例2：查询年龄大于或等于18的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({age:{$gte:18}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="逻辑运算符"><a href="#逻辑运算符" aria-hidden="true" class="header-anchor">#</a> 逻辑运算符</h4> <ul><li>查询时可以有多个条件，多个条件之间需要通过逻辑运算符连接</li> <li>逻辑与：默认是逻辑与的关系</li> <li>例3：查询年龄大于或等于18，并且性别为1的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({age:{$gte:18},gender:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>逻辑或：使用$or</li> <li>例4：查询年龄大于18，或性别为0的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({$or:[{age:{$gt:18}},{gender:1}]})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>and和or一起使用</li> <li>例5：查询年龄大于18或性别为0的学生，并且学生的姓名为gj</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({$or:[{age:{$gte:18}},{gender:1}],name:'gj'})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="范围运算符"><a href="#范围运算符" aria-hidden="true" class="header-anchor">#</a> 范围运算符</h4> <ul><li>使用&quot;$in&quot;，&quot;$nin&quot; 判断是否在某个范围内</li> <li>例6：查询年龄为18、28的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({age:{$in:[18,28]}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="支持正则表达式"><a href="#支持正则表达式" aria-hidden="true" class="header-anchor">#</a> 支持正则表达式</h4> <ul><li>使用//或$regex编写正则表达式</li> <li>例7：查询姓黄的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({name:/^黄/})
db.stu.find({name:{$regex:'^黄'}}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="自定义查询"><a href="#自定义查询" aria-hidden="true" class="header-anchor">#</a> 自定义查询</h4> <ul><li>使用$where后面写一个函数，返回满足条件的数据</li> <li>例7：查询年龄大于30的学生</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({$where:function(){return this.age&gt;20}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="limit"><a href="#limit" aria-hidden="true" class="header-anchor">#</a> Limit</h4> <ul><li>方法limit()：用于读取指定数量的文档</li> <li>语法：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find().limit(NUMBER)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>参数NUMBER表示要获取文档的条数</li> <li>如果没有指定参数则显示集合中的所有文档</li> <li>例1：查询2条学生信息</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find().limit(2)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="skip"><a href="#skip" aria-hidden="true" class="header-anchor">#</a> skip</h4> <ul><li>方法skip()：用于跳过指定数量的文档</li> <li>语法：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find().skip(NUMBER)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>参数NUMBER表示跳过的记录条数，默认值为0</li> <li>例2：查询从第3条开始的学生信息</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find().skip(2)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="一起使用"><a href="#一起使用" aria-hidden="true" class="header-anchor">#</a> 一起使用</h4> <ul><li>方法limit()和skip()可以一起使用，不分先后顺序</li> <li>创建数据集</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>for(i=0;i&lt;15;i++){db.t1.insert({_id:i})}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>查询第5至8条数据</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find().limit(4).skip(5)
或
db.stu.find().skip(5).limit(4)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="投影"><a href="#投影" aria-hidden="true" class="header-anchor">#</a> 投影</h4> <ul><li><p>在查询到的返回结果中，只选择必要的字段，而不是选择一个文档的整个字段</p></li> <li><p>如：一个文档有5个字段，需要显示只有3个，投影其中3个字段即可</p></li> <li><p>语法：示需要明确设置为0</p></li> <li><p>例1</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({},{name:1,gender:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>例2</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find({},{_id:0,name:1,gender:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="排序"><a href="#排序" aria-hidden="true" class="header-anchor">#</a> 排序</h4> <ul><li>方法sort()，用于对结果集进行排序</li> <li>语法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名称.find().sort({字段:1,...})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>参数1为升序排列</li> <li>参数-1为降序排列</li> <li>例1：根据性别降序，再根据年龄升序</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.stu.find().sort({gender:-1,age:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="高级操作"><a href="#高级操作" aria-hidden="true" class="header-anchor">#</a> 高级操作</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/数据库/mysql优化.html" class="prev">4数据库优化</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.eea4310e.js" defer></script><script src="/assets/js/2.a0374f9c.js" defer></script><script src="/assets/js/33.679f2783.js" defer></script>
  </body>
</html>
